{{define "view"}}
// CODE GENERATED, DO NOT MODIFY
{{template "header" .}}

const {{.View}}Type cqrs.ViewType = "{{.View}}"

func (v *{{.View}}) Register(app *cqrs.App){
    app.RegisterView({{.View}}Type, v)
{{range .Listeners}}
    app.Subscribe(func(ctx context.Context, msg cqrs.Message) error {
        return v.On{{.}}(ctx, msg.(*{{.}}))
    }, {{.}}Type)
{{end}}
}
{{end}}